---
title: "Module 2 : IHM moderne & dynamique"
description: "Utilisation d'outils de d√©veloppeurs pour cr√©er une IHM moderne & g√©n√©ration d'HTML dynamique"
---

# Module 2 : IHM moderne & dynamique
Ce module vous offre principalement une d√©couverte de l'utilisation d'outils de d√©veloppeurs 
pour cr√©er une IHM moderne ainsi que la g√©n√©ration d'HTML dynamique et de pages web esth√©tiques.

<br/>

Voici les sujets trait√©s :
- 

<br/>

# <a id="a"></a>a) D√©veloppement d'IHM modernes
## <a id="a1"></a>a.1) Introduction
Au module 1, nous avons d√©velopp√© des applications web fa√ßon "old school".

Dans le tutoriel du module 1, nous avons cr√©√© la HomePage du site d'une pizzeria, en y ajoutant 
facilement deux animations gr√¢ce √† une librairie externe ([Animate.css](https://animate.style/)).

<br/>

Imaginez maintenant que le site web de la pizzeria continue √† grandir. 
Au fur et √† mesure que nous allons lui ajouter des fonctionnalit√©s, nous allons souhaiter 
utiliser de nouvelles librairies externes.

Pour chaque librairie externe que nous souhaitons ajouter, nous aurons √† inclure une balise 
**`<script>`** a sein d'**index.html**.

Nous allons donc facilement, lors du d√©veloppement d'une application web, utiliser une ou 
plusieurs dizaine(s) de librairies externes, que l'on appelle aussi d√©pendances.

<br/>

La gestion de ces d√©pendances est difficile √† g√©rer et √† maintenir :
- si vous souhaitez avoir des versions locales de ces d√©pendances, vous devez vous m√™me 
manuellement t√©l√©charger les fichiers **.js** et **.css** associ√©s √† vos librairies, 
inclure ensuite le bon chemin pour la propri√©t√© **src** des balises **scripts**.
- en cas de nouvelle version d'une librairie, vous √™tes difficilement inform√© ;
- la mise √† jour d'une d√©pendance impose pas mal de manipulations : si vous utilisez des versions 
locales des d√©pendances, ret√©l√©chargement de celles-ci, changement des propri√©t√©s **src** des 
balises **scripts** impact√©es...
- lorsque vous travaillez √† plusieurs d√©veloppeurs sur un m√™me projet, pour que tout le 
monde obtienne les d√©pendances si vous utiliser des versions locales au serveur web, vous risquez 
de devoir mettre celles-ci en configuration (via Gitlab ou Github) ; c'est vraiment dommage 
de mettre en configuration les d√©pendances, le code de quelqu'un d'autre.

<br/> 

Ainsi, pour cr√©er des IHM de mani√®re moderne, nous souhaiterions b√©n√©ficier 
d'outils facilitant le d√©veloppement.

Nous souhaiterions :
- une gestion moderne des d√©pendances (et de leur d√©pendances), via un gestionnaire de packages ;
- √©crire du JS moderne et utiliser, si n√©cessaire, un outil pour g√©n√©rer du JS pour d'anciens browsers ; 
- du hot reload : lorsque l'on modifie un script, l'application web se rafraichisse dans le browser ;
- que notre √©diteur de code nous informe quand nous √©crivons du JS qui ne r√©pond pas 
√† des conventions de programmation ;
- transformer les assets √† la compilation (optimisation d'images, SASS vers CSS...)
- ...

<br/>

Ainsi, nous allons abandonner la programmation "old school" dans ce module et d√©couvrir des 
outils de programmation modernes, principalement les **module bundlers**.

<br/>

## <a id="a2"></a> a.2) Les modules bundlers
Un module bundler est un outil mis √† la disposition des d√©veloppeurs.

Il permet la gestion ais√©e des modules, packages et de leurs d√©pendances.

<br/>

Probablement sa plus grande utilit√© et de permettre d'utiliser des packages faits pour 
Node.js (un environnement serveur) au sein d'un browser (un environnement client).

<br/>

Certains modules bundler permettent d'autres fonctionnalit√©s comme 
la gestion ais√©e des assets, la transpilation de code moderne vers du code ancien‚Ä¶

<br/>

Voici quelques modules bundlers parmi les plus connus : Webpack [[R.33]](/references/#r33), 
browserify, parcel.

<br/> 

Dans le cadre de ce cours, nous avons choisi Webpack.

<br/>

Pour pouvoir installer cet outil, tout comme n'importe quel package, nous utiliserons 
le gestionnaire de packages de Node.js **npm**.

<br/>

A ce stade-ci, si √ßa n'est pas d√©j√† fait, il est important que vous installiez l'environnement 
[Node.js en version LTS](https://nodejs.org/en/) [[R.34]](/references/#r34): 

<br/>

‚ö° Attention √† ne pas installer la derni√®re version de Node.js, mais bien la version LTS, sinon 
vous risquez beaucoup d'incompatibilit√©s lors de l'ex√©cution des boilerplates, 
tutoriels & d√©mos du cours.

<br/>

## <a id="a3"></a> a.3) Comment cr√©er une IHM moderne ?
Nous avons vu que pour cr√©er une application web moderne, il est important d'utiliser un module 
bundler.

Il reste n√©anmoins encore √† d√©cider comment nous allons initier la cr√©ation de nos projets pour 
b√©n√©ficier d'outils de d√©veloppement modernes.

<br/>

Voici les options possibles :
- **Utiliser un boilerplate contenant le squelette d'une IHM (incluant une bonne configuration des outils de d√©veloppement) et ses d√©pendances** ; 
nous allons utiliser cette option dans le cadre de ce cours ;
- **Utiliser un framework ou une librairie comme React, Vue ou Angular** ; comme expliqu√© dans l'introduction, nous n'allons pas utiliser 
de Framework pour cr√©er nos IHM. Nous trouvons ces frameworks tr√®s utiles, n√©anmoins nous estimons 
qu'il est primordial de bien pratiquer le Vanilla JS avant de se lancer dans un framework pour 
votre frontend.
- **Cr√©er et configurer son projet "from scratch"** ; c'est une partie qui sera faite par les 
initi√©s ; en r√®gle g√©n√©rale, les d√©veloppeurs pr√©f√®rent utiliser des outils 
de d√©veloppement d√©j√† configur√©s plut√¥t que de devoir mettre en place tout l'environnement de 
d√©velopppement. C'est ce qui fait notamment le succ√®s de l'utilisation de frameworks, 
car ces frameworks mettent √† disposition des outils de d√©veloppement g√©n√©ralement 
bien configur√©s "out of the box" (dans les boilerplate de base). 

<br/>

Comme expliqu√© ci-dessus, vous ne devez pas conna√Ætre comment configurer un module bundler pour 
b√©n√©ficier d'outils de d√©veloppement modernes.

Nous estimons qu'il est important que vous compreniez comment pouvoir utiliser, √©t √©ventuellement 
modifier, une configuration de base offerte au sein d'un boilerplate. 

<br/>

üç¨ Si n√©anmoins vous souhaitez approfondir la configuration d'un environnement de d√©veloppement 
pour un frontend, √† l'aide de Webpack, vous pouvez suivre ces deux tutoriels :
- [hmi-webpack-part1](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/step-1/).
- [hmi-webpack-part2](https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/step0).

<br/>
Ces deux tutoriels, totalement optionnels, expliquent comment le 
[boilerplate de base du cours](https://github.com/e-vinci/js-basic-boilerplate.git) 
a √©t√© cr√©√©.

<br/>

## <a id="a4"></a> a.4) Utiliser un boilerplate contenant le squelette d'une IHM et ses d√©pendances
### a.4.1) Introduction
Nous allons faire un refactor du site de la pizzeria d√©velopp√© fa√ßon "Old School" au module 1 
en utilisant des outils de d√©veloppement modernes.

<br/>

Pour ce faire, nous allons utiliser le [boilerplate de base du cours](https://github.com/e-vinci/js-basic-boilerplate.git) 
qui met √† disposition un projet bien configur√©.

Au fur et √† mesure du tutoriel qui suit, nous allons comprendre ce qu'offre Webpack en tant 
que module bundler.

<br/>

### a.4.2) Cr√©ation du squelette d'une IHM
Dans votre repo **web2**, nous allons cr√©er le r√©pertoire **/tutorials/pizzeria/hmi/modern** 
en clonant le boilerplate.

Pour ce faire, veuillez ouvrir un terminal dans le r√©pertoire **/tutorials/pizzeria/hmi**.

<br/>

Il est possible de faire un clic droit dans l'Explorer de VS Code sur le r√©pertoire **hmi**, 
**Open in Integrated Terminal** pour ouvrir un terminal au bon endroit :

<br />

<ScrollableImage name="terminal-1.png" minWidth="481px" maxWidth="500px" />

<figcaption>Acc√®s rapide √† un terminal au chemin d√©sir√©</figcaption>

<br />

Nous vous conseillons, au sein de VS Code, de configurer pour avoir comme Terminal par d√©faut 
Git Bash.

Pour ce faire, vous devez avoir install√© Git sur votre machine.

Clicquez √† droite du **+** au sein d'un terminal ouvert dans VS Code, 
clic sur **Select Default Profile**, puis s√©lectionnez "Git Bash".
Tous les prochains terminaux que vous ouvrirez le seront sous Git Bash, nettement plus color√© 
et int√©ressant que les autres terminaux üòé.

<br />

<ScrollableImage name="terminal-2.png" minWidth="933px" maxWidth="933px" />

<figcaption>Choix du terminal par d√©faut</figcaption>

<br />

Pour cloner le boilerplate dans **/tutorials/pizzeria/hmi** en portant 
le nom de projet **modern**, veuillez tapez au sein du terminal :

```bash
git clone https://github.com/e-vinci/js-basic-boilerplate.git modern
```

<br/>

A ce stade-ci, tous les fichiers n√©cessaires sont disponibles dans votre r√©pertoire **modern**.

<br/>

‚ö° Comme vous avez clon√© votre projet au sein d'un repo existant (**web2**), 
Git ne trackera pas ce nouveau projet ; en effet, Git ne tracque pas des projets Git dans 
des projets Git. 

Pour vous assurer que Git traque votre nouveau projet **modern**,
vous devez effacer le r√©pertoire **`.git`** se trouvant dans votre nouveau projet. 
N'h√©sitez pas aussi √† effacer **`.gitignore`** se trouvant dans votre nouveau projet.

<br/>

**package.json** est le fichier de configuration de votre projet.

Veuillez le mettre √† jour afin de :
- donnnez un nom √† votre projet & une description ;
- vous identifier comme auteur.

<br/>


### a.4.3) Installation des d√©pendances
Veuillez entrer dans le r√©pertoire **modern** √† l'aide d'une commande bash, au 
sein du Terminal de VS Code :

```bash
cd modern # (or the name given to your project)
npm i # (equivalent to `npm install` to install all dependencies )
npm start # run the project
```

<br/>

Veuillez ensuite installer toutes les d√©pendances, c'est-√†-dire tous les packages 
qui sont indiqu√©s dans **package.json**

```bash
npm i # (equivalent to `npm install` to install all dependencies )
```

<br/>

Notons que dans ce cas-ci, ce sont tous ces packages qui sont install√©s (voir **package.json**):

```json
"devDependencies": {
    "@babel/core": "^7.14.3",
    "@babel/preset-env": "^7.14.4",
    "babel-loader": "^8.2.2",
    "css-loader": "^5.2.6",
    "eslint": "^8.18.0",
    "eslint-config-airbnb-base": "^15.0.0",
    "eslint-plugin-import": "^2.26.0",
    "eslint-webpack-plugin": "^3.2.0",
    "html-loader": "^2.1.2",
    "html-webpack-plugin": "^5.3.1",
    "prettier-airbnb-config": "^1.0.0",
    "style-loader": "^2.0.0",
    "webpack": "^5.38.1",
    "webpack-cli": "^4.7.0",
    "webpack-dev-server": "^3.11.2"
  },
  "dependencies": {
    "@popperjs/core": "^2.9.2",
    "bootstrap": "^5.0.1"
  },
```

<br/>

Pour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire
**/tuturials/pizzeria/hmi/modern** (ou **/web2/tuturials/pizzeria/hmi/modern** si l'on 
consid√®re le nom du r√©pertoire du repo).

<br/>

### a.4.4) Ex√©cution de l'application √† l'aide d'un serveur de d√©veloppement de Webpack
Veuillez ex√©cuter l'application de base offerte par le boilerplate :

```bash
npm start # run the project, equivalent of : npm run start
```

<br/>

**package.json** indique les scripts de d√©marrage, en fonction de la fa√ßon dont nous 
souhaitons d√©marrer l'application :

```json
"scripts": {
    "dev": "webpack --mode development",
    "build": "webpack --mode production",
    "start": "webpack serve --mode development"
  },
```

<br/>

Lorsque nous tapons **npm start** √† la racine du projet (**modern** ici),
c'est en fait le serveur de d√©veloppement de Webpack qui va d√©marrer notre application, 
et une page s'ouvre dans notre browser par d√©faut, affichant le texte 
"Replace with your page content".

<br/>

Webpack offre de nombreux outils de d√©veloppement qui sont configur√©s dans le fichier 
**webpack.config.js**. 

Veuillez jeter un oeil √† ce fichier. Vous verrez notamment qu'un serveur web de d√©veloppement 
doit d√©marrer sur le port 8080.

<br/>

Il n'est d√©sormais plus n√©cessaire d'utiliser le Live Server de VS Code pour visualiser nos 
applications. Cela est directement g√©r√© par Webpack.

<br/>

Pour stopper l'application, et donc le serveur de d√©veloppement de Webpack, il suffit de 
tapper sur **`CTRL + c`** au sein du terminal.

<br/>

Et pour la red√©marrer ? 

**`npm start`**.

<br/>

### a.4.5) Fonctionnement de Webpack pour g√©rer des assets
Webpack a √©t√© configur√© afin de g√©n√©rer une fichier **index.html** sur base d'un template 
donn√© dans **/src/index.html**.

<br/> 

Ce template HTML ne contient pas de balises **`<script>`**.

C'est Webpack qui va s'occuper d'aller chercher toutes les d√©pendances qui doivent √™tre 
indiqu√©es via des imports dans le fichier **/src/index.js**. Webpack va g√©n√©rer 
un bundle, une sorte de paquet cadeau, reprenant toutes les d√©pendances ainsi que vos scripts 
JS et vos autres assets (fichiers CSS, images...).

Dans le boilerplate du cours, **src/index.js** fait l'import de tout ce qui est 
n√©cessaire pour pouvoir utiliser **Bootstrap** pour pouvoir styler ses pages web √† 
l'aide de classes pr√©d√©finies ; de plus, **/stylesheets/main.css** et import√© afin 
de pouvoir cr√©er votre propre style : 

```js
// Import Bootstrap CSS
import 'bootstrap/dist/css/bootstrap.min.css';
// Custom styles
import './stylesheets/main.css';
```

<br/>

Nous verrons plus tard comment utiliser Bootstrap.

<br/>

Nous comprenons donc que pour importer une librairie, un asset (image, CSS...), 
il suffit de le faire √† l'aide du mot-cl√© **import**.

<br/>

Pour comprendre l'utilisation de Webpack, nous allons maintenant faire un refactor 
de notre site de la pizzeria r√©alis√© au module 1 en l'int√©grant √† notre nouveau projet.

<br/>

Veuillez copier / coller le CSS qui √©tait contenu 
dans **/stylesheets/style.css** au sein de **/stylesheets/main.css** :

```css
html, body {
    height: 100%;
    margin: 0;
}

body { 
    /*to easily deal with sticky footer*/
    display: flex;
    flex-direction: column;
    background-image : url(../img/pizza.jpg);
    background-size : cover;
}


header{
    text-align: center;
}

main{
    text-align: center;
     /*to easily deal with sticky footer:
     grow the main to fill the space*/
    flex: 1 0 auto;
}

footer{
    text-align: center;    
}

footer img {
    height: 50px;
}

footer h1{
    color: white;
}
```

<br/>

Nous allons maintenant cr√©er le layout HTML de base de notre application sur base 
de l'ancien **index.html**. 

Les changements √† op√©rer sont : 
- Enlever l'import de la feuille de style directement dans l'HTML : `<link rel="stylesheet" href="./stylesheets/style.css" />`
- Enlever l'import de la librairie externe directement dans l'HTML : ` <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />`
- Enlever l'import du script externe **index.js** directement dans l'HTML : <script src="./index.js"></script>

<br/>

Le contenu de **/src/index.html** doit devenir :

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pizzeria</title>
    <link rel="icon" href="./img/pizza-svgrepo-com.svg" type="image/svg+xml" />
  </head>
  <body>
    <header>
      <h1 class="animate__animated animate__bounce">We love Pizza</h1>
    </header>
    <main>
      <audio id="audioPlayer" controls autoplay>
        <source src="./sound/Infecticide-11-Pizza-Spinoza.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
    </main>
    <footer>
      <h1 class="animate__animated animate__bounce animate__delay-2s">
        But we also love JS
      </h1>
      <img src="./img/js-logo.png" alt="" />
    </footer>
  </body>
</html>
```

<br/>

Veuillez ajouter les images et le son du tutoriel pr√©c√©dent dans les r√©pertoires **/src/img** et 
**src/sound**.

<br/>

Veuillez ajouter le contenu de l'ancien **index.js** au sein de **/src/index.js** afin de g√©rer 
les clics sur toute la page :

```js
// Import Bootstrap CSS
import 'bootstrap/dist/css/bootstrap.min.css';
// Custom styles
import './stylesheets/main.css';

const startOrStopSound = () => {
  const myAudioPlayer = document.querySelector('#audioPlayer');

  if (myAudioPlayer.paused) myAudioPlayer.play();
  else myAudioPlayer.pause();
};

const body = document.querySelector('body');

body.addEventListener('click', startOrStopSound);
```

<br/>

Veuillez ex√©cuter l'application. 

On voit que quasi tout est fonctionnelle.

Il reste √† installer la d√©pendance permettant de cr√©er des animations.

<br/>

### a.4.6) Installation d'un package
Afin de g√©rer des animations, il faut r√©installer la d√©pendance via **npm**, le gestionnaire 
de packages.

<br/>
Pour installer un package (ou une d√©pendance), il suffit de faire : **npm i nomDuPackage** ou 
**npm install nomDuPackage**.

Pour installer la librairie [Animate.css](https://animate.style/) [[R.32]](/references/#r32), 
il suffit de taper dans un terminal, lorsqu'on se trouve √† la racine du projet (**modern** ici) :

```bash
npm install animate.css
```

<br />

En lisant la documentation, nous voyons que pour utiliser la librairie au sein de notre application,
il suffit de faire l'import de celle-ci.

Veuillez faire l'import de **Animate.css** au sein de **index.js** en ajoutant cette ligne :

```js
import 'animate.css';
```

